{"ast":null,"code":"import _slicedToArray from \"/home/mitu/reduxasync/striming/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport ownerDocument from 'dom-helpers/ownerDocument';\nimport { useState, useEffect } from 'react';\nexport const resolveContainerRef = ref => {\n  var _ref;\n\n  if (typeof document === 'undefined') return null;\n  if (ref == null) return ownerDocument().body;\n  if (typeof ref === 'function') ref = ref();\n  if (ref && 'current' in ref) ref = ref.current;\n  if ((_ref = ref) != null && _ref.nodeType) return ref || null;\n  return null;\n};\nexport default function useWaitForDOMRef(ref, onResolved) {\n  const _useState = useState(() => resolveContainerRef(ref)),\n        _useState2 = _slicedToArray(_useState, 2),\n        resolvedRef = _useState2[0],\n        setRef = _useState2[1];\n\n  if (!resolvedRef) {\n    const earlyRef = resolveContainerRef(ref);\n    if (earlyRef) setRef(earlyRef);\n  }\n\n  useEffect(() => {\n    if (onResolved && resolvedRef) {\n      onResolved(resolvedRef);\n    }\n  }, [onResolved, resolvedRef]);\n  useEffect(() => {\n    const nextRef = resolveContainerRef(ref);\n\n    if (nextRef !== resolvedRef) {\n      setRef(nextRef);\n    }\n  }, [ref, resolvedRef]);\n  return resolvedRef;\n}","map":{"version":3,"sources":["/home/mitu/reduxasync/striming/node_modules/@restart/ui/esm/useWaitForDOMRef.js"],"names":["ownerDocument","useState","useEffect","resolveContainerRef","ref","_ref","document","body","current","nodeType","useWaitForDOMRef","onResolved","resolvedRef","setRef","earlyRef","nextRef"],"mappings":";AAAA,OAAOA,aAAP,MAA0B,2BAA1B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAO,MAAMC,mBAAmB,GAAGC,GAAG,IAAI;AACxC,MAAIC,IAAJ;;AAEA,MAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC,OAAO,IAAP;AACrC,MAAIF,GAAG,IAAI,IAAX,EAAiB,OAAOJ,aAAa,GAAGO,IAAvB;AACjB,MAAI,OAAOH,GAAP,KAAe,UAAnB,EAA+BA,GAAG,GAAGA,GAAG,EAAT;AAC/B,MAAIA,GAAG,IAAI,aAAaA,GAAxB,EAA6BA,GAAG,GAAGA,GAAG,CAACI,OAAV;AAC7B,MAAI,CAACH,IAAI,GAAGD,GAAR,KAAgB,IAAhB,IAAwBC,IAAI,CAACI,QAAjC,EAA2C,OAAOL,GAAG,IAAI,IAAd;AAC3C,SAAO,IAAP;AACD,CATM;AAUP,eAAe,SAASM,gBAAT,CAA0BN,GAA1B,EAA+BO,UAA/B,EAA2C;AAAA,oBAC1BV,QAAQ,CAAC,MAAME,mBAAmB,CAACC,GAAD,CAA1B,CADkB;AAAA;AAAA,QACjDQ,WADiD;AAAA,QACpCC,MADoC;;AAGxD,MAAI,CAACD,WAAL,EAAkB;AAChB,UAAME,QAAQ,GAAGX,mBAAmB,CAACC,GAAD,CAApC;AACA,QAAIU,QAAJ,EAAcD,MAAM,CAACC,QAAD,CAAN;AACf;;AAEDZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,UAAU,IAAIC,WAAlB,EAA+B;AAC7BD,MAAAA,UAAU,CAACC,WAAD,CAAV;AACD;AACF,GAJQ,EAIN,CAACD,UAAD,EAAaC,WAAb,CAJM,CAAT;AAKAV,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMa,OAAO,GAAGZ,mBAAmB,CAACC,GAAD,CAAnC;;AAEA,QAAIW,OAAO,KAAKH,WAAhB,EAA6B;AAC3BC,MAAAA,MAAM,CAACE,OAAD,CAAN;AACD;AACF,GANQ,EAMN,CAACX,GAAD,EAAMQ,WAAN,CANM,CAAT;AAOA,SAAOA,WAAP;AACD","sourcesContent":["import ownerDocument from 'dom-helpers/ownerDocument';\nimport { useState, useEffect } from 'react';\nexport const resolveContainerRef = ref => {\n  var _ref;\n\n  if (typeof document === 'undefined') return null;\n  if (ref == null) return ownerDocument().body;\n  if (typeof ref === 'function') ref = ref();\n  if (ref && 'current' in ref) ref = ref.current;\n  if ((_ref = ref) != null && _ref.nodeType) return ref || null;\n  return null;\n};\nexport default function useWaitForDOMRef(ref, onResolved) {\n  const [resolvedRef, setRef] = useState(() => resolveContainerRef(ref));\n\n  if (!resolvedRef) {\n    const earlyRef = resolveContainerRef(ref);\n    if (earlyRef) setRef(earlyRef);\n  }\n\n  useEffect(() => {\n    if (onResolved && resolvedRef) {\n      onResolved(resolvedRef);\n    }\n  }, [onResolved, resolvedRef]);\n  useEffect(() => {\n    const nextRef = resolveContainerRef(ref);\n\n    if (nextRef !== resolvedRef) {\n      setRef(nextRef);\n    }\n  }, [ref, resolvedRef]);\n  return resolvedRef;\n}"]},"metadata":{},"sourceType":"module"}